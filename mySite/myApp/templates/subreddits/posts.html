{% extends 'base.html' %}
{% load static %}
{% load mptt_tags %}
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
{% block content %}
<h1 class="text-center">{{subreddit.title}}</h1>


{% recursetree posts %}
<div class ="col-lg-12 medium-12 small-12">
    <div class ="card">
        <div class="upvote" id="button-{{ node.id }}" data-href="{% url 'upvote' node.id %}">
            {% csrf_token %}
            <button class="btn btn-primary btn-xs">+</button>
        </div>
        <div><p id="score-{{ node.id }}" name="scoreText-{{ node.id }}">{{ node.score }}</p></div> ---- {{ node.title }} : {{ node.body }} <div>Posted by: {{node.author}}</div>
        <div class="downvote" id="button-{{ node.id }}" data-href="{% url 'downvote' node.id %}">
            {% csrf_token %}
            <button class="btn btn-primary btn-xs">-</button>
        </div>
        {% if node.id %}
        <div><a href="{% url 'create_reply' subreddit.title node.id %}" >reply</a></div>
        {% endif %}
        {% if not node.is_leaf_node %}
            <ul class="children">
                {{ children }}
            </ul>
        {% endif %}
    </div>
{% endrecursetree %}

{% endblock %}

{% block scripts %}
<link rel="stylesheet" href="{% static "css/cards.css" %}">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="{% static "js/score.js" %}"></script>
{% endblock %}